<!doctype html>
<html lang="ru" data-theme="dark">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport"
          content="width=device-width,initial-scale=1,viewport-fit=cover"/>
    <title>Amsterdam Countdown</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --bg: #0b1220;
            --fg: #eaf7ea;
            --muted: #9bb39b;
            --card: #0e1830;
            --accent: #20df6b;
            --accent-ink: #062412;
            --accent2: #ff7b00;
            --glass: rgba(15, 26, 47, .72);
            --stroke: rgba(255, 255, 255, .08);
            --ring: rgba(32, 223, 107, .45);
            --shadow: rgba(0, 0, 0, .45);
        }

        html[data-theme="light"] {
            --bg: #f6fff6;
            --fg: #0a1a0f;
            --muted: #496649;
            --card: #ecfff0;
            --accent: #0db36a;
            --accent-ink: #031a10;
            --accent2: #df5e00;
            --glass: rgba(236, 255, 240, .78);
            --stroke: rgba(0, 0, 0, .08);
            --ring: rgba(13, 179, 106, .35);
            --shadow: rgba(0, 0, 0, .12);
        }

        html, body {
            height: 100%
        }

        body {
            margin: 0;
            color: var(--fg);
            font: 16px/1.5 system-ui, -apple-system, Inter, Segoe UI, Roboto, sans-serif;
            background: var(--bg);
            background-image: radial-gradient(1100px 520px at 10% -10%, color-mix(in oklab, var(--bg), #123 25%) 0%, var(--bg) 60%),
            radial-gradient(900px 480px at 110% 110%, color-mix(in oklab, var(--bg), #223a66 35%) 0%, var(--bg) 58%);
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            text-rendering: optimizeLegibility;
            /* UX: remove ugly highlight & accidental zoom on tap */
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
        }

        .wrap {
            max-width: 680px;
            margin: 0 auto;
            padding: 24px 16px 160px;
            position: relative;
            z-index: 2
        }

        header {
            display: flex;
            gap: 12px;
            align-items: center;
            margin-bottom: 14px
        }

        .logo {
            font-size: 26px;
            filter: drop-shadow(0 0 10px var(--ring))
        }

        h1 {
            margin: 0;
            font-size: 20px;
            letter-spacing: .3px
        }

        .sub {
            margin-top: 4px;
            font-size: 12px;
            color: var(--muted)
        }

        .card {
            background: var(--glass);
            border: 1px solid var(--stroke);
            border-radius: 18px;
            padding: 16px;
            backdrop-filter: blur(12px) saturate(120%);
            box-shadow: 0 10px 40px var(--shadow), inset 0 0 0 1px rgba(255, 255, 255, .02);
            animation: pop .35s ease;
        }

        @keyframes pop {
            from {
                transform: scale(.985);
                opacity: .0
            }
            to {
                transform: scale(1);
                opacity: 1
            }
        }

        .timer {
            display: grid;
            grid-template-columns:repeat(4, 1fr);
            gap: 12px;
            text-align: center;
        }

        .tbox {
            background: color-mix(in oklab, var(--card), #000 10%);
            border: 1px solid var(--stroke);
            border-radius: 14px;
            padding: 12px 10px;
            position: relative;
            overflow: hidden;
        }

        .tbox::after {
            content: "";
            position: absolute;
            inset: 0;
            pointer-events: none;
            background: radial-gradient(500px 90px at 50% -25%, color-mix(in oklab, var(--accent), transparent 75%), transparent 60%);
            opacity: .7;
        }

        .tval {
            font-size: 30px;
            font-weight: 900;
            letter-spacing: .5px;
            text-shadow: 0 0 12px color-mix(in oklab, var(--accent), transparent 70%)
        }

        .tcap {
            font-size: 10px;
            color: var(--muted);
            margin-top: 2px;
            letter-spacing: .4px
        }

        .date {
            margin: 12px 2px 4px;
            font-size: 13px;
            color: var(--muted)
        }

        .accent {
            color: var(--accent2);
            font-weight: 800;
            text-shadow: 0 0 8px color-mix(in oklab, var(--accent2), transparent 65%)
        }

        /* –ë–ª–æ–∫ –ø–ª–∞–Ω–∞ –ø–æ —Ç—Ä–∞–≤–µ */
        .bank {
            margin-top: 14px;
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 10px;
            align-items: start;
        }

        .bank-head {
            grid-column: 1/-1;
            display: flex;
            gap: 8px;
            align-items: baseline;
            justify-content: space-between;
        }

        .badge {
            font-weight: 800;
            font-size: 13px;
            letter-spacing: .4px;
            padding: 8px 12px;
            border-radius: 999px;
            background: color-mix(in oklab, var(--card), #000 8%);
            border: 1px solid color-mix(in oklab, var(--accent), transparent 60%);
            box-shadow: inset 0 0 20px color-mix(in oklab, var(--accent), transparent 88%);
        }

        .help {
            font-size: 11px;
            color: var(--muted)
        }

        .actions {
            display: flex;
            gap: 10px;
            grid-column: 1/-1
        }

        .pill {
            border: none;
            padding: 12px 14px;
            border-radius: 14px;
            cursor: pointer;
            background: var(--accent);
            color: var(--accent-ink);
            font-weight: 900;
            letter-spacing: .3px;
            transition: transform .06s ease, filter .2s ease, box-shadow .2s ease;
            box-shadow: 0 6px 20px color-mix(in oklab, var(--accent), transparent 70%), inset 0 -2px 0 rgba(0, 0, 0, .15);
            /* UX: prevent double-tap zoom on iOS/Android */
            touch-action: manipulation;
        }

        .pill.ghost {
            background: color-mix(in oklab, var(--card), #000 6%);
            color: var(--fg);
            border: 1px solid color-mix(in oklab, var(--accent), transparent 60%);
            box-shadow: 0 6px 14px var(--shadow);
        }

        .pill:active {
            transform: translateY(1px) scale(.98)
        }

        .pill:hover {
            filter: brightness(1.06)
        }

        .pill:focus-visible {
            outline: 2px solid var(--accent);
            outline-offset: 2px;
            box-shadow: 0 0 0 4px color-mix(in oklab, var(--accent), transparent 70%);
        }

        .pill.small {
            padding: 10px 12px
        }

        .grams {
            grid-column: 1/-1;
            display: flex;
            justify-content: center;
            gap: 10px;
            padding: 10px;
            background: color-mix(in oklab, var(--card), #000 10%);
            border: 1px solid var(--stroke);
            border-radius: 14px;
        }

        .gval {
            font-size: 28px;
            font-weight: 900;
            text-shadow: 0 0 10px color-mix(in oklab, var(--accent), transparent 75%)
        }

        .hint {
            margin-top: 6px;
            font-size: 11px;
            color: var(--muted);
            text-align: right
        }

        /* –ë–ª–æ–∫ —Ñ–∞–∫—Ç–æ–≤ –ø—Ä–æ –ê–º—Å—Ç–µ—Ä–¥–∞–º */
        .facts {
            margin-top: 18px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .facts-head {
            display: flex;
            align-items: baseline;
            justify-content: space-between;
            gap: 8px;
        }

        .facts-help {
            font-size: 11px;
            color: var(--muted);
        }

        .fact-card {
            padding: 12px 12px;
            border-radius: 14px;
            border: 1px solid var(--stroke);
            background: color-mix(in oklab, var(--card), #000 10%);
            box-shadow: inset 0 0 0 1px rgba(255, 255, 255, .02);
            font-size: 13px;
            line-height: 1.5;
        }

        .fact-label {
            font-weight: 700;
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: .12em;
            color: var(--muted);
            margin-bottom: 4px;
        }

        .fact-text {
            font-size: 13px;
        }

        .skyline {
            position: absolute;
            left: 0;
            right: 0;
            bottom: 0;
            height: 130px;
            pointer-events: none;
            opacity: .22;
            background: linear-gradient(180deg, transparent 0, transparent 92px, var(--accent2) 93px, var(--accent2) 96px, transparent 97px),
            repeating-linear-gradient(90deg, #0000 0 24px, color-mix(in oklab, #000, var(--bg)) 24px 26px);
            mask: radial-gradient(120px 60px at 8% 100%, #000 98%, #0000 100%),
            radial-gradient(140px 70px at 28% 100%, #000 98%, #0000 100%),
            radial-gradient(110px 55px at 48% 100%, #000 98%, #0000 100%),
            radial-gradient(150px 75px at 68% 100%, #000 98%, #0000 100%),
            radial-gradient(120px 60px at 88% 100%, #000 98%, #0000 100%);
            mask-composite: intersect;
        }

        .burst {
            position: fixed;
            pointer-events: none;
            z-index: 5;
            font-size: 18px;
            animation: fly 900ms ease-out forwards;
            text-shadow: 0 0 10px rgba(255, 255, 255, .35);
        }

        @keyframes fly {
            0% {
                transform: translate(var(--x, 0), var(--y, 0)) scale(.6);
                opacity: 0
            }
            10% {
                opacity: 1
            }
            100% {
                transform: translate(calc(var(--x, 0) * 1.8), calc(var(--y, 0) * 1.8 - 80px)) rotate(25deg) scale(1.25);
                opacity: 0
            }
        }

        .shake {
            animation: shake .3s ease
        }

        @keyframes shake {
            0%, 100% {
                transform: translateX(0)
            }
            25% {
                transform: translateX(-2px)
            }
            75% {
                transform: translateX(2px)
            }
        }

        /* Respect prefers-reduced-motion: disable ‚Äúextra‚Äù animations */
        @media (prefers-reduced-motion: reduce) {
            .card,
            .burst,
            .shake {
                animation: none !important;
            }

            .pill {
                transition: none;
            }
        }

        @media (max-width: 360px) {
            .tval {
                font-size: 26px
            }

            .gval {
                font-size: 24px
            }
        }

        @media (prefers-color-scheme: light) {
            html:not([data-theme="dark"]) {
                color-scheme: light;
            }
        }
    </style>
</head>
<body>
<div class="wrap">
    <header>
        <div class="logo" aria-hidden="true">üåø</div>
        <div>
            <h1>Amsterdam Countdown</h1>
            <div class="sub" id="subtitle">–í—ã–ª–µ—Ç —Å–∫–æ—Ä–æ ‚Äî –¥–µ—Ä–∂–∏–º —Ç–µ–º–ø</div>
        </div>
    </header>

    <div class="card">
        <div class="timer" role="timer" aria-live="polite">
            <div class="tbox">
                <div class="tval" id="d">‚Äî</div>
                <div class="tcap">–¥–Ω–∏</div>
            </div>
            <div class="tbox">
                <div class="tval" id="h">‚Äî</div>
                <div class="tcap">—á–∞—Å—ã</div>
            </div>
            <div class="tbox">
                <div class="tval" id="m">‚Äî</div>
                <div class="tcap">–º–∏–Ω</div>
            </div>
            <div class="tbox">
                <div class="tval" id="s">‚Äî</div>
                <div class="tcap">—Å–µ–∫</div>
            </div>
        </div>
        <div class="date">‚úàÔ∏è <span class="accent">5 –¥–µ–∫–∞–±—Ä—è 2025, 12:00</span></div>

        <div class="bank" aria-labelledby="weedTitle" aria-describedby="weedHelp">
            <div class="bank-head">
                <div id="weedTitle" class="badge" title="–≠—Ç–æ —Å—á—ë—Ç—á–∏–∫ –ø–ª–∞–Ω–∞ –ø–æ –º–∞—Ä–∏—Ö—É–∞–Ω–µ –Ω–∞ –ø–æ–µ–∑–¥–∫—É">–ü–ª–∞–Ω –ø–æ —Ç—Ä–∞–≤–µ</div>
                <div id="weedHelp" class="help">—Å–∫–æ–ª—å–∫–æ <strong>–ø–ª–∞–Ω–∏—Ä—É–µ—à—å</strong> —Å–∫—É—Ä–∏—Ç—å (–ª–æ–∫–∞–ª—å–Ω–æ, –±–µ–∑ –æ–≥–ª–∞—Å–∫–∏)
                </div>
            </div>

            <div class="actions">
                <button class="pill" id="incBtn" type="button" aria-label="+1 –≥—Ä–∞–º–º –∫ –ø–ª–∞–Ω—É">+1 –≥ –∫ –ø–ª–∞–Ω—É</button>
                <button class="pill ghost" id="decBtn" type="button" aria-label="–°–∞–º–æ–∫–æ–Ω—Ç—Ä–æ–ª—å ‚Äî –º–∏–Ω—É—Å 1 –≥—Ä–∞–º–º" hidden>
                    –°–∞–º–æ–∫–æ–Ω—Ç—Ä–æ–ª—å ‚àí1 –≥
                </button>
            </div>

            <div class="grams">
                <div class="gval" id="grams" aria-live="polite">0 –≥</div>
            </div>
        </div>

        <div class="hint">–õ–æ–∫–∞–ª—å–Ω–æ. –ù–∏–∫–æ–º—É –Ω–µ —Ä–∞—Å—Å–∫–∞–∂–µ–º. ü´¢</div>

        <!-- –ë–ª–æ–∫ —Ñ–∞–∫—Ç–æ–≤ –ø—Ä–æ –ê–º—Å—Ç–µ—Ä–¥–∞–º -->
        <div class="facts" aria-labelledby="factTitle" aria-describedby="factHelp">
            <div class="facts-head">
                <div class="badge" id="factTitle">–§–∞–∫—Ç –ø—Ä–æ –ê–º—Å—Ç–µ—Ä–¥–∞–º</div>
                <div class="facts-help" id="factHelp">
                    –ª–µ–≥–∞–ª—å–Ω—ã–µ —Ñ–∞–∫—Ç—ã –ø—Ä–æ –ø—Ä–∞–≤–∏–ª–∞ –∏ –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å
                </div>
            </div>
            <button
                    class="pill small"
                    id="factBtn"
                    type="button"
                    aria-label="–ü–æ–∫–∞–∑–∞—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π —Ñ–∞–∫—Ç –ø—Ä–æ –ê–º—Å—Ç–µ—Ä–¥–∞–º, —Ç—Ä–∞–≤—É –∏ —Ç—Ä—é—Ñ–µ–ª–∏"
            >
                –î–∞–π —Ñ–∞–∫—Ç –ø—Ä–æ –ê–º—Å—Ç–µ—Ä–¥–∞–º üìö
            </button>
            <div class="fact-card" id="factCard">
                <div class="fact-label">–ø–æ–¥—Å–∫–∞–∑–∫–∞ –ø–µ—Ä–µ–¥ –ø–æ–µ–∑–¥–∫–æ–π</div>
                <div class="fact-text" id="factText">
                    –ù–∞–∂–º–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π —Ñ–∞–∫—Ç –ø—Ä–æ –ê–º—Å—Ç–µ—Ä–¥–∞–º –∏ –º–µ—Å—Ç–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ üåø
                </div>
            </div>
        </div>
    </div>
</div>

<div class="skyline" aria-hidden="true"></div>

<script>
    // === Telegram theme integration (–±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞) ===
    (function applyTelegramTheme() {
        const tg = window.Telegram?.WebApp;
        if (!tg) return;

        tg.expand();
        const theme = (tg.colorScheme || 'light').toLowerCase();
        document.documentElement.setAttribute('data-theme', theme === 'dark' ? 'dark' : 'light');

        const p = tg.themeParams || {};
        const set = (cssVar, val) => {
            if (val) {
                document.documentElement.style.setProperty(cssVar, val);
            }
        };
        set('--accent', p.button_color);
        set('--accent2', p.link_color);
        if (p.button_text_color) set('--accent-ink', p.button_text_color);
        if (p.hint_color) document.documentElement.style.setProperty('--muted', p.hint_color);
    })();

    // === Countdown ===
    const dEl = document.getElementById('d');
    const hEl = document.getElementById('h');
    const mEl = document.getElementById('m');
    const sEl = document.getElementById('s');
    const subEl = document.getElementById('subtitle');

    // NOTE: this is interpreted in user's local timezone
    const TARGET = new Date('2025-12-05T12:00:00');

    function updateTimer(diffMs) {
        if (diffMs <= 0) {
            dEl.textContent = '0';
            hEl.textContent = '00';
            mEl.textContent = '00';
            sEl.textContent = '00';
            subEl.textContent = '–ü–æ—Ä–∞ –≤–∑–ª–µ—Ç–∞—Ç—å! ‚úàÔ∏è';
            sparkBurst(window.innerWidth / 2, 40, ['‚ú®', 'üåø', 'üß°']);
            return false;
        }
        const totalSeconds = Math.floor(diffMs / 1000);
        const days = Math.floor(totalSeconds / 86400);
        const hours = Math.floor((totalSeconds % 86400) / 3600);
        const minutes = Math.floor((totalSeconds % 3600) / 60);
        const seconds = totalSeconds % 60;

        dEl.textContent = days.toLocaleString('ru-RU');
        hEl.textContent = hours.toString().padStart(2, '0');
        mEl.textContent = minutes.toString().padStart(2, '0');
        sEl.textContent = seconds.toString().padStart(2, '0');
        return true;
    }

    const timerId = setInterval(() => {
        const now = new Date();
        const diff = TARGET.getTime() - now.getTime();
        const stillRunning = updateTimer(diff);
        if (!stillRunning) {
            clearInterval(timerId);
        }
    }, 1000);
    // Initial paint without 1s delay
    updateTimer(TARGET.getTime() - Date.now());

    // === –ü–ª–∞–Ω –ø–æ —Ç—Ä–∞–≤–µ (–≥—Ä–∞–º–º—ã) ===
    const LS_KEY = 'ams.weed.plan.v1';
    const gramsEl = document.getElementById('grams');
    const inc = document.getElementById('incBtn');
    const dec = document.getElementById('decBtn');

    const funnyLines = [
        '–°–∞–º–æ–∫–æ–Ω—Ç—Ä–æ–ª—å –ø–æ–¥–∫–ª—é—á—ë–Ω üßò',
        '–°–µ–≥–æ–¥–Ω—è –±–µ—Ä–µ–∂—ë–º –ª—ë–≥–∫–∏–µ üí®üö´',
        '–ú–∏–Ω—É—Å –≥—Ä–∞–º–º, –ø–ª—é—Å —É–≤–∞–∂–µ–Ω–∏–µ –∫ —Å–µ–±–µ ‚ú®',
        '–ü–ª–∞–Ω –Ω–µ –∫–∞–º–µ–Ω—å ‚Äî –ø–æ–¥–≤–∏–Ω—É–ª—Å—è üòâ',
        '–ê–º—Å—Ç–µ—Ä–¥–∞–º –ø–æ–¥–æ–∂–¥—ë—Ç, –æ—Ä–≥–∞–Ω–∏–∑–º ‚Äî –Ω–µ –æ—á–µ–Ω—å üòÖ',
    ];

    function readFromStorage() {
        try {
            const raw = localStorage.getItem(LS_KEY) || '0';
            const n = parseInt(raw, 10);
            if (!Number.isFinite(n) || n < 0) return 0;
            return n;
        } catch {
            return 0;
        }
    }

    let gramsValue = readFromStorage();

    function saveToStorage(value) {
        try {
            localStorage.setItem(LS_KEY, String(value));
        } catch {
            // ignore quota / privacy errors
        }
    }

    function renderGrams() {
        gramsEl.textContent = gramsValue.toLocaleString('ru-RU') + ' –≥';
        dec.hidden = gramsValue <= 0;
    }

    function haptic(type) {
        try {
            window.Telegram?.WebApp?.HapticFeedback?.impactOccurred(type || 'light');
        } catch {
            // non-Telegram or unsupported ‚Äî just ignore
        }
    }

    function sparkBurst(x, y, set) {
        const emojis = set || ['üåø', 'üí•', 'üü†', '‚ú®'];
        const n = 12;
        for (let i = 0; i < n; i += 1) {
            const e = document.createElement('div');
            e.className = 'burst';
            e.textContent = emojis[i % emojis.length];
            const angle = (Math.PI * 2 / n) * i + (Math.random() * 0.5 - 0.25);
            const dist = 60 + Math.random() * 40;
            const dx = Math.cos(angle) * dist;
            const dy = Math.sin(angle) * dist;
            e.style.left = x + 'px';
            e.style.top = y + 'px';
            e.style.setProperty('--x', dx + 'px');
            e.style.setProperty('--y', dy + 'px');
            document.body.appendChild(e);
            setTimeout(() => e.remove(), 900);
        }
    }

    function cursorPoint(ev) {
        if (ev.touches && ev.touches[0]) {
            return {x: ev.touches[0].clientX, y: ev.touches[0].clientY};
        }
        return {x: ev.clientX, y: ev.clientY};
    }

    function pulse(el) {
        el.style.transition = 'transform .12s ease, text-shadow .2s ease';
        el.style.transform = 'scale(1.06)';
        el.style.textShadow = '0 0 18px var(--ring)';
        setTimeout(() => {
            el.style.transform = 'scale(1)';
            el.style.textShadow = '0 0 10px color-mix(in oklab, var(--accent), transparent 75%)';
        }, 120);
    }

    function toastLine(text) {
        const e = document.createElement('div');
        e.className = 'badge';
        e.style.position = 'fixed';
        e.style.left = '50%';
        e.style.top = '12px';
        e.style.transform = 'translateX(-50%)';
        e.style.zIndex = '6';
        e.style.backdropFilter = 'blur(8px)';
        e.style.padding = '10px 14px';
        e.textContent = text;
        document.body.appendChild(e);
        setTimeout(() => {
            e.style.transition = 'opacity .25s ease, transform .25s ease';
            e.style.opacity = '0';
            e.style.transform = 'translateX(-50%) translateY(-6px)';
        }, 1200);
        setTimeout(() => e.remove(), 1600);
    }

    inc.addEventListener('click', (ev) => {
        gramsValue += 1;
        saveToStorage(gramsValue);
        renderGrams();
        haptic('medium');
        const {x, y} = cursorPoint(ev);
        sparkBurst(x, y, ['üåø', '‚ú®', 'üß°']);
        pulse(gramsEl);
    });

    dec.addEventListener('click', (ev) => {
        if (gramsValue <= 0) return;
        gramsValue -= 1;
        saveToStorage(gramsValue);
        renderGrams();
        haptic('light');
        const {x, y} = cursorPoint(ev);
        sparkBurst(x, y, ['üßò', '‚ú®', 'ü•¶']);
        pulse(gramsEl);
        const randomIndex = Math.floor(Math.random() * funnyLines.length);
        toastLine(funnyLines[randomIndex]);
    });

    renderGrams();

    // === –§–∞–∫—Ç—ã –ø—Ä–æ –ê–º—Å—Ç–µ—Ä–¥–∞–º, –∫–∞–Ω–Ω–∞–±–∏—Å –∏ —Ç—Ä—é—Ñ–µ–ª–∏ ===
    const FACTS = [
        '–ü–µ—Ä–≤—ã–π –∞–º—Å—Ç–µ—Ä–¥–∞–º—Å–∫–∏–π –∫–æ—Ñ–µ—à–æ–ø Mellow Yellow –æ—Ç–∫—Ä—ã–ª—Å—è –≤ 1972 –≥–æ–¥—É –≤ –±—ã–≤—à–µ–π –±—É–ª–æ—á–Ω–æ–π, –∑–∞—Ö–≤–∞—á–µ–Ω–Ω–æ–π —Ö–∏–ø–ø–∏. –û–Ω —Å—Ç–∞–ª –æ–¥–Ω–∏–º –∏–∑ –ø–µ—Ä–≤—ã—Ö –º–µ—Å—Ç –≤ –º–∏—Ä–µ, –≥–¥–µ —Ç—Ä–∞–≤—É –ø—Ä–æ–¥–∞–≤–∞–ª–∏ –ø–æ—á—Ç–∏ –æ—Ç–∫—Ä—ã—Ç–æ.',
        '–°–∏—Å—Ç–µ–º–∞ –∫–æ—Ñ–µ—à–æ–ø–æ–≤ —Ä–æ–¥–∏–ª–∞—Å—å –∫–∞–∫ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å: –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ —Ö–æ—Ç–µ–ª–æ –æ—Ç–¥–µ–ª–∏—Ç—å –º—è–≥–∫–∏–µ –Ω–∞—Ä–∫–æ—Ç–∏–∫–∏ –æ—Ç —Ç—è–∂—ë–ª—ã—Ö –∏ –≤—ã—Ç–∞—â–∏—Ç—å –∫—É—Ä–∏–ª—å—â–∏–∫–æ–≤ –∏–∑ –ø–æ–¥–ø–æ–ª—å—è –∫ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–º –º–µ—Å—Ç–∞–º.',
        '–ü–æ –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –ø—Ä–∞–≤–∏–ª–∞–º –∫–æ—Ñ–µ—à–æ–ø –Ω–µ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ –ø—Ä–æ–¥–∞—Ç—å —Ç–µ–±–µ –±–æ–ª—å—à–µ 5 –≥—Ä–∞–º–º–æ–≤ –∑–∞ —Ä–∞–∑ ‚Äî –≤—Å—ë, —á—Ç–æ –≤—ã—à–µ, —É–∂–µ –Ω–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è ¬´–ª–∏—á–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º¬ª.',
        '–£ –∫–æ—Ñ–µ—à–æ–ø–æ–≤ –µ—Å—Ç—å –∑–Ω–∞–º–µ–Ω–∏—Ç–∞—è ¬´–ø—Ä–æ–±–ª–µ–º–∞ —á—ë—Ä–Ω–æ–≥–æ –≤—Ö–æ–¥–∞¬ª: –∏–º —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –ø—Ä–æ–¥–∞–≤–∞—Ç—å –∫–∞–Ω–Ω–∞–±–∏—Å, –Ω–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ª–µ–≥–∞–ª—å–Ω—ã–π –æ–ø—Ç–æ–≤—ã–π –∑–∞–∫—É–ø –¥–æ —Å–∏—Ö –ø–æ—Ä –Ω–µ –ø—Ä–æ–ø–∏—Å–∞–Ω –≤ –∑–∞–∫–æ–Ω–µ.',
        'Mellow Yellow –∑–∞–∫—Ä—ã–ª–∏ –≤ 2017-–º –∏–∑-–∑–∞ –ø—Ä–∞–≤–∏–ª–∞ ¬´250 –º–µ—Ç—Ä–æ–≤ –æ—Ç —à–∫–æ–ª—ã¬ª ‚Äî —Ç–∞–∫ –ê–º—Å—Ç–µ—Ä–¥–∞–º –¥–æ–≥–æ–≤–æ—Ä–∏–ª—Å—è —Å –ì–∞–∞–≥–æ–π, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∂—ë—Å—Ç–∫–æ–≥–æ –∑–∞–ø—Ä–µ—Ç–∞ –Ω–∞ –∏–Ω–æ—Å—Ç—Ä–∞–Ω—Ü–µ–≤ –≤ –∫–æ—Ñ–µ—à–æ–ø–∞—Ö.',
        '–í —Ü–µ–Ω—Ç—Ä–µ –ê–º—Å—Ç–µ—Ä–¥–∞–º–∞ (—Ä–µ–¥-–ª–∞–π—Ç, –î–∞–º –∏ –î–∞–º—Ä–∞–∫) –Ω–µ–ª—å–∑—è –∫—É—Ä–∏—Ç—å —Ç—Ä–∞–≤—É –Ω–∞ —É–ª–∏—Ü–µ: —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ, –ø–æ—Ç–æ–º —à—Ç—Ä–∞—Ñ –æ–∫–æ–ª–æ 100 –µ–≤—Ä–æ, –µ—Å–ª–∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—à—å.',
        '–ó–∞–ø—Ä–µ—Ç –Ω–∞ –∫—É—Ä–µ–Ω–∏–µ –Ω–∞ —É–ª–∏—Ü–µ –Ω–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞ —Ç–µ—Ä—Ä–∞—Å—ã –∫–æ—Ñ–µ—à–æ–ø–æ–≤: —Ñ–æ—Ä–º–∞–ª—å–Ω–æ —Å–∏–¥–µ—Ç—å —Å –¥–∂–æ–π–Ω—Ç–æ–º –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –Ω–∞ –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–ª–æ—â–∞–¥–∫–µ, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ –≤ —Ç–æ–ª–ø–µ.',
        '–ú—ç—Ä –ê–º—Å—Ç–µ—Ä–¥–∞–º–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –ø—Ä–µ–¥–ª–∞–≥–∞–ª–∞ –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –ø—Ä–æ–¥–∞–∂—É —Ç—Ä–∞–≤—ã —Ç—É—Ä–∏—Å—Ç–∞–º ‚Äî –≥–æ—Ä–æ–¥ —É—Å—Ç–∞–ª –æ—Ç ¬´–Ω–∞—Ä–∫–æ—Ç—É—Ä–∏–∑–º–∞¬ª –∏ —Ö–æ—á–µ—Ç, —á—Ç–æ–±—ã –ª—é–¥–∏ –ø—Ä–∏–µ–∑–∂–∞–ª–∏ –µ—â—ë –∏ –∑–∞ –∫—É–ª—å—Ç—É—Ä–æ–π.',
        '–ì–æ—Ä–æ–¥ –∑–∞–ø—É—Å–∫–∞–ª –∫–∞–º–ø–∞–Ω–∏—é Stay Away –∏ –æ–Ω–ª–∞–π–Ω-–∫–≤–∏–∑ –¥–ª—è ¬´—Ç–æ–∫—Å–∏—á–Ω—ã—Ö¬ª —Ç—É—Ä–∏—Å—Ç–æ–≤: —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏ –≤ –¥—É—Ö–µ ¬´—Ç—ã —Å—é–¥–∞ –∑–∞ –º—É–∑–µ—è–º–∏ –∏–ª–∏ —Ç–æ–ª—å–∫–æ –∑–∞ —Å–ø–ª–∏—Ñ–æ–º –∏ –±–∞—Ä—Ö–æ–ø–ø–∏–Ω–≥–æ–º?¬ª.',
        '–î–æ 2008 –≥–æ–¥–∞ –≤ —Å–º–∞—Ä—Ç—à–æ–ø–∞—Ö —Å–≤–æ–±–æ–¥–Ω–æ –ø—Ä–æ–¥–∞–≤–∞–ª–∏—Å—å –æ–±—ã—á–Ω—ã–µ ¬´–º–∞–≥–∏—á–µ—Å–∫–∏–µ –≥—Ä–∏–±—ã¬ª, –Ω–æ –ø–æ—Å–ª–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–µ–∑–æ–Ω–∞–Ω—Å–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ –∏—Ö –∑–∞–ø—Ä–µ—Ç–∏–ª–∏ –∏ –æ—Å—Ç–∞–≤–∏–ª–∏ —Ç–æ–ª—å–∫–æ —Ç—Ä—é—Ñ–µ–ª–∏.',
        '–ú–∞–≥–∏—á–µ—Å–∫–∏–µ —Ç—Ä—é—Ñ–µ–ª–∏ ‚Äî —ç—Ç–æ –ø–æ–¥–∑–µ–º–Ω—ã–µ —Å–∫–æ–ø–ª–µ–Ω–∏—è –º–∏—Ü–µ–ª–∏—è (—Å–∫–ª–µ—Ä–æ—Ü–∏–∏). –ó–∞–∫–æ–Ω —Ñ–æ—Ä–º–∞–ª—å–Ω–æ –æ—Ç–¥–µ–ª–∏–ª –∏—Ö –æ—Ç –≥—Ä–∏–±–æ–≤, –ø–æ—ç—Ç–æ–º—É –ø–æ—Å–ª–µ –∑–∞–ø—Ä–µ—Ç–∞ –≥—Ä–∏–±–æ–≤ —Ç—Ä—é—Ñ–µ–ª–∏ –≤–Ω–µ–∑–∞–ø–Ω–æ —Å—Ç–∞–ª–∏ –æ—Ç–¥–µ–ª—å–Ω–æ–π –ª–µ–≥–∞–ª—å–Ω–æ–π –∏–Ω–¥—É—Å—Ç—Ä–∏–µ–π.',
        '–°–º–∞—Ä—Ç—à–æ–ø—ã –≤ –ù–∏–¥–µ—Ä–ª–∞–Ω–¥–∞—Ö ‚Äî —ç—Ç–æ –Ω–µ —Ç–æ–ª—å–∫–æ —Ç—Ä—é—Ñ–µ–ª–∏: —Ç–∞–º –ø—Ä–æ–¥–∞—é—Ç —Ç–µ—Å—Ç-–∫–∏—Ç—ã –¥–ª—è –≤–µ—â–µ—Å—Ç–≤, –≤–∏—Ç–∞–º–∏–Ω—ã, –∫–Ω–∏–≥–∏ –∏ –≤—Å—è–∫–∏–π –¥—Ä—É–≥–æ–π —Ö–∞—Ä–¥–∫–æ—Ä–Ω—ã–π harm-reduction-–∏–Ω–≤–µ–Ω—Ç–∞—Ä—å –¥–ª—è —Ä–µ–π–≤–µ—Ä–æ–≤.',
        '–ù–∏–¥–µ—Ä–ª–∞–Ω–¥—ã –±—ã–ª–∏ –æ–¥–Ω–∏–º–∏ –∏–∑ –ø–µ—Ä–≤—ã—Ö, –∫—Ç–æ –Ω–∞—á–∞–ª –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤–µ—â–µ—Å—Ç–≤–∞ –¥–ª—è –∫–ª—É–±–Ω–æ–π —Å—Ü–µ–Ω—ã: –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ DIMS —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –Ω–∞—á–∞–ª–∞ 1990-—Ö –∏ –∞–Ω–æ–Ω–∏–º–Ω–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç –æ–±—Ä–∞–∑—Ü—ã, —á—Ç–æ–±—ã –≤–æ–≤—Ä–µ–º—è –ª–æ–≤–∏—Ç—å –æ—Å–æ–±–µ–Ω–Ω–æ –æ–ø–∞—Å–Ω—ã–µ –ø–∞—Ä—Ç–∏–∏.',
        '–í –ê–º—Å—Ç–µ—Ä–¥–∞–º–µ –µ—Å—Ç—å —Å–µ—Ä–≤–∏—Å—ã –≤—Ä–æ–¥–µ Jellinek –∏ GGD, –≥–¥–µ –º–æ–∂–Ω–æ –∞–Ω–æ–Ω–∏–º–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–±–ª–µ—Ç–∫–∏ –∏ –ø–æ—Ä–æ—à–∫–∏ –∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –ª–µ–∫—Ü–∏—é –ø—Ä–æ —Ä–∏—Å–∫–∏ –æ—Ç –ª—é–¥–µ–π, –∫–æ—Ç–æ—Ä—ã–µ —ç—Ç–∏–º –∑–∞–Ω–∏–º–∞—é—Ç—Å—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ.',
        '–í–∑—Ä–æ—Å–ª–æ–º—É —á–µ–ª–æ–≤–µ–∫—É –≤ –ù–∏–¥–µ—Ä–ª–∞–Ω–¥–∞—Ö –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ ¬´—Ç–µ—Ä–ø—è—Ç¬ª –¥–æ 5 –≥—Ä–∞–º–º–æ–≤ –∫–∞–Ω–Ω–∞–±–∏—Å–∞ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫—É—Å—Ç–æ–≤: –º–∞–∫—Å–∏–º—É–º –∑–∞–±–µ—Ä—É—Ç –∏ –≤—ã–∫–∏–Ω—É—Ç, –Ω–æ –Ω–µ —Å–¥–µ–ª–∞—é—Ç –∏–∑ —Ç–µ–±—è —Ç—è–∂—ë–ª–æ–≥–æ –ø—Ä–µ—Å—Ç—É–ø–Ω–∏–∫–∞.',
        '–ö–æ—Ñ–µ—à–æ–ø—ã –∂–∏–≤—É—Ç –ø–æ –Ω–∞–±–æ—Ä—É –∂—ë—Å—Ç–∫–∏—Ö –ø—Ä–∞–≤–∏–ª: –Ω–µ–ª—å–∑—è —Ä–µ–∫–ª–∞–º–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–∞–≤—É, –ø—É—Å–∫–∞—Ç—å –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–∏—Ö, –ø—Ä–æ–¥–∞–≤–∞—Ç—å —Ç—è–∂—ë–ª—ã–µ –Ω–∞—Ä–∫–æ—Ç–∏–∫–∏, —Å–æ–∑–¥–∞–≤–∞—Ç—å —à—É–º –∏–ª–∏ –¥–µ—Ä–∂–∞—Ç—å –±–æ–ª—å—à–∏–µ –∑–∞–ø–∞—Å—ã –Ω–∞ —Å–∫–ª–∞–¥–µ.',
        '–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ ¬´–º—è–≥–∫–∏–µ¬ª –∏ ¬´—Ç–≤—ë—Ä–¥—ã–µ¬ª –Ω–∞—Ä–∫–æ—Ç–∏–∫–∏ ‚Äî –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å–ª–æ–≤–∞: –≤—Å—è —Å—Ç—Ä–∞–Ω–Ω–∞—è –≥–æ–ª–ª–∞–Ω–¥—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ —Ç–æ–º, —á—Ç–æ–±—ã –º—è–≥–∫–æ–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –∏ —Å–Ω–∏–∂–∞—Ç—å –≤—Ä–µ–¥, –∞ —Ç—è–∂—ë–ª–æ–µ –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –ø—Ä–µ—Å–µ–∫–∞—Ç—å –ø–æ –ø–æ–ª–Ω–æ–π.',
        '–ê–º—Å—Ç–µ—Ä–¥–∞–º—Å–∫–∏–µ –≤—Ä–∞—á–∏ –∏ —Å–∫–æ—Ä—ã–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ –∏–º–µ—é—Ç –¥–µ–ª–æ —Å —Ç—É—Ä–∏—Å—Ç–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–±–æ—Ä—â–∏–ª–∏ —Å –∫–∞–Ω–Ω–∞–±–∏—Å–æ–º ‚Äî –æ—Å–æ–±–µ–Ω–Ω–æ —Å –µ–¥–æ–π –≤—Ä–æ–¥–µ spacecake, –≥–¥–µ —ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç –ø–æ–∑–¥–Ω–æ –∏ –±—å—ë—Ç –≥–æ—Ä–∞–∑–¥–æ —Å–∏–ª—å–Ω–µ–µ, —á–µ–º –æ–∂–∏–¥–∞–ª–æ—Å—å.',
        '–ò–∑-–∑–∞ —Å–∏–ª—å–Ω—ã—Ö —Å–æ—Ä—Ç–æ–≤ –∏ –ø–ª–æ—Ç–Ω–æ–π –≥–æ—Ä–æ–¥—Å–∫–æ–π –∑–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª–∏—Ü–∏—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –∂–∞–ª—É–µ—Ç—Å—è –Ω–∞ —Å–ª—É—á–∞–∏, –∫–æ–≥–¥–∞ –ª—é–¥–∏ –ø–æ–¥ –≤–µ—â–µ—Å—Ç–≤–∞–º–∏ –ø–∞–¥–∞—é—Ç —Å –±–∞–ª–∫–æ–Ω–æ–≤ –∏–ª–∏ –≤ –∫–∞–Ω–∞–ª—ã ‚Äî –º–µ—Å—Ç–Ω—ã–µ –∫ —ç—Ç–æ–º—É –æ—Ç–Ω–æ—Å—è—Ç—Å—è –æ—á–µ–Ω—å —Å–µ—Ä—å—ë–∑–Ω–æ.',
        '–°–∞–º–∏ –∞–º—Å—Ç–µ—Ä–¥–∞–º—Ü—ã –≤—Å—ë –≥—Ä–æ–º—á–µ —Ä—É–≥–∞—é—Ç—Å—è –Ω–∞ –æ–≤–µ—Ä—Ç—É—Ä–∏–∑–º: –∂–∏—Ç–µ–ª–∏ —É–∂–µ –¥–∞–∂–µ –ø–æ–¥–∞—é—Ç –∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω—ã–µ –∏—Å–∫–∏ –∫ –≥–æ—Ä–æ–¥—É, —á—Ç–æ–±—ã –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –ø–æ—Ç–æ–∫ —Ç—É—Ä–∏—Å—Ç–æ–≤ –∏ –Ω–µ –ø—Ä–µ–≤—Ä–∞—â–∞—Ç—å —Ü–µ–Ω—Ç—Ä –≤ –≤–µ—á–Ω—É—é —Ç—É—Å–æ–≤–∫—É —Ä–∞–¥–∏ –¥–µ—à—ë–≤–æ–π —Ç—Ä–∞–≤—ã –∏ –∞–ª–∫–æ–≥–æ–ª—è.'
    ];

    const factBtn = document.getElementById('factBtn');
    const factTextEl = document.getElementById('factText');

    let lastFactIndex = -1;

    function getRandomFact() {
        if (!FACTS.length) return '';
        if (FACTS.length === 1) return FACTS[0];
        let idx;
        do {
            idx = Math.floor(Math.random() * FACTS.length);
        } while (idx === lastFactIndex);
        lastFactIndex = idx;
        return FACTS[idx];
    }

    if (factBtn && factTextEl) {
        factBtn.addEventListener('click', (ev) => {
            const fact = getRandomFact();
            if (!fact) return;
            factTextEl.textContent = fact;
            haptic('light');
            const {x, y} = cursorPoint(ev);
            sparkBurst(x, y, ['üìö', 'üåø', '‚ú®']);
            factTextEl.classList.add('shake');
            setTimeout(() => factTextEl.classList.remove('shake'), 300);
        });
    }
</script>
</body>
</html>
